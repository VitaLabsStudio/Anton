#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ“ Validating commit message format..."
echo "ğŸ’¡ TIP: To bypass, run 'git commit --no-verify'"
echo "ğŸ’¡ Format: <type>(<scope>): <subject>"
echo "   Types: feat, fix, docs, style, refactor, test, chore"
echo "   Example: feat(auth): add Twitter OAuth login"

pnpm exec commitlint --edit "$1" || {
  echo "âŒ Commit message does not follow conventional format."
  echo "ğŸ’¡ To bypass this check in an emergency, run: git commit --no-verify"
  exit 1
}

echo "âœ… Commit message is valid."
