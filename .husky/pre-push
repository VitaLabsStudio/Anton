#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸš€ Running pre-push checks..."
echo "ğŸ’¡ TIP: To bypass, run 'git push --no-verify'"

pnpm typecheck || {
  echo "âŒ Type checking failed. Please fix the type errors above."
  echo "ğŸ’¡ To bypass this check in an emergency, run: git push --no-verify"
  exit 1
}

pnpm test || {
  echo "âŒ Tests failed. Please fix the failing tests above."
  echo "ğŸ’¡ To bypass this check in an emergency, run: git push --no-verify"
  exit 1
}

echo "âœ… Pre-push checks passed."
