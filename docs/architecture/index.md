# Antone Full-Stack Architecture Document

## Table of Contents

- [Antone Full-Stack Architecture Document](#table-of-contents)
  - [Table of Contents](./table-of-contents.md)
  - [Glossary of Terms](./glossary-of-terms.md)
  - [Stakeholders & Approval Process](./stakeholders-approval-process.md)
    - [Project Stakeholders](./stakeholders-approval-process.md#project-stakeholders)
    - [Architecture Approval Workflow](./stakeholders-approval-process.md#architecture-approval-workflow)
  - [1. System Overview](./1-system-overview.md)
    - [1.1 Purpose](./1-system-overview.md#11-purpose)
    - [1.2 Current State Baseline](./1-system-overview.md#12-current-state-baseline)
    - [1.3 High-Level Architecture](./1-system-overview.md#13-high-level-architecture)
    - [1.4 Key Design Principles](./1-system-overview.md#14-key-design-principles)
    - [1.5 MVP Definition & Scope](./1-system-overview.md#15-mvp-definition-scope)
    - [1.6 Explicitly OUT OF SCOPE for V1](./1-system-overview.md#16-explicitly-out-of-scope-for-v1)
  - [2. Technology Stack](./2-technology-stack.md)
    - [2.0 Additional Non-Functional Requirements](./2-technology-stack.md#20-additional-non-functional-requirements)
    - [2.1 Core Technologies](./2-technology-stack.md#21-core-technologies)
    - [2.1.1 Technology Stack Rationale & Architecture Review (December 2025)](./2-technology-stack.md#211-technology-stack-rationale-architecture-review-december-2025)
      - [Critical Technology Updates Applied](./2-technology-stack.md#critical-technology-updates-applied)
      - [Technology Compatibility Matrix](./2-technology-stack.md#technology-compatibility-matrix)
      - [Alternative Technologies Considered But Not Selected](./2-technology-stack.md#alternative-technologies-considered-but-not-selected)
      - [Coding Standards & Development Guidelines](./2-technology-stack.md#coding-standards-development-guidelines)
        - [1. TypeScript Configuration Standards](./2-technology-stack.md#1-typescript-configuration-standards)
        - [2. ESLint Configuration Standards](./2-technology-stack.md#2-eslint-configuration-standards)
        - [3. Prettier Configuration Standards](./2-technology-stack.md#3-prettier-configuration-standards)
        - [4. File Naming Conventions](./2-technology-stack.md#4-file-naming-conventions)
        - [5. Code Organization Patterns](./2-technology-stack.md#5-code-organization-patterns)
        - [6. Comment Standards](./2-technology-stack.md#6-comment-standards)
        - [7. Error Handling Patterns](./2-technology-stack.md#7-error-handling-patterns)
        - [8. Testing Standards](./2-technology-stack.md#8-testing-standards)
        - [9. Git Workflow & Commit Standards](./2-technology-stack.md#9-git-workflow-commit-standards)
        - [10. API Design Standards](./2-technology-stack.md#10-api-design-standards)
        - [11. Security Best Practices](./2-technology-stack.md#11-security-best-practices)
        - [12. Performance Optimization Standards](./2-technology-stack.md#12-performance-optimization-standards)
        - [13. Documentation Standards](./2-technology-stack.md#13-documentation-standards)
        - [14. Code Review Checklist](./2-technology-stack.md#14-code-review-checklist)
        - [15. Performance Targets](./2-technology-stack.md#15-performance-targets)
    - [2.2 External Services](./2-technology-stack.md#22-external-services)
    - [2.3 Development Tools](./2-technology-stack.md#23-development-tools)
    - [2.4 Advanced Learning System Libraries](./2-technology-stack.md#24-advanced-learning-system-libraries)
    - [2.5 Infrastructure](./2-technology-stack.md#25-infrastructure)
  - [3. Repository Structure](./3-repository-structure.md)
    - [3.1 Monorepo Layout](./3-repository-structure.md#31-monorepo-layout)
    - [3.2 Package Dependencies](./3-repository-structure.md#32-package-dependencies)
      - [Root ](./3-repository-structure.md#root)
      - [Backend Dependencies](./3-repository-structure.md#backend-dependencies)
      - [Dashboard Dependencies](./3-repository-structure.md#dashboard-dependencies)
    - [3.3 Development Tooling Configuration](./3-repository-structure.md#33-development-tooling-configuration)
      - [3.3.1 Git Hooks (Husky)](./3-repository-structure.md#331-git-hooks-husky)
      - [3.3.2 Editor Configuration](./3-repository-structure.md#332-editor-configuration)
      - [3.3.3 Node Version Management](./3-repository-structure.md#333-node-version-management)
      - [3.3.4 Ignore Files](./3-repository-structure.md#334-ignore-files)
      - [3.3.5 Vitest Configuration](./3-repository-structure.md#335-vitest-configuration)
      - [3.3.6 TypeScript Path Aliases](./3-repository-structure.md#336-typescript-path-aliases)
      - [3.3.7 PNPM Workspace Configuration](./3-repository-structure.md#337-pnpm-workspace-configuration)
  - [4. Service Architecture](./4-service-architecture.md)
    - [4.1 Service Overview](./4-service-architecture.md#41-service-overview)
    - [4.2 Service Communication](./4-service-architecture.md#42-service-communication)
    - [4.3 Backend Worker Architecture](./4-service-architecture.md#43-backend-worker-architecture)
    - [4.4 Request Flow: Post Detection to Reply](./4-service-architecture.md#44-request-flow-post-detection-to-reply)
  - [5. Database Schema](./5-database-schema.md)
    - [5.1 Entity Relationship Diagram](./5-database-schema.md#51-entity-relationship-diagram)
    - [5.2 Prisma Schema](./5-database-schema.md#52-prisma-schema)
    - [5.3 Database Indexes & Performance](./5-database-schema.md#53-database-indexes-performance)
    - [5.4 Data Validation Rules](./5-database-schema.md#54-data-validation-rules)
    - [5.5 Data Retention Policy](./5-database-schema.md#55-data-retention-policy)
    - [5.6 Schema Migration Strategy](./5-database-schema.md#56-schema-migration-strategy)
  - [6. API Specifications](./6-api-specifications.md)
    - [6.1 API Overview](./6-api-specifications.md#61-api-overview)
    - [6.2 Core Endpoints](./6-api-specifications.md#62-core-endpoints)
      - [Health & Status](./6-api-specifications.md#health-status)
      - [Posts & Queue](./6-api-specifications.md#posts-queue)
      - [Decisions](./6-api-specifications.md#decisions)
      - [Replies & Approvals](./6-api-specifications.md#replies-approvals)
      - [Analytics & KPIs](./6-api-specifications.md#analytics-kpis)
      - [Competitive Intelligence](./6-api-specifications.md#competitive-intelligence)
      - [Experiments](./6-api-specifications.md#experiments)
      - [Export](./6-api-specifications.md#export)
    - [6.3 WebSocket Events](./6-api-specifications.md#63-websocket-events)
  - [7. Backend Architecture](./7-backend-architecture.md)
    - [7.1 Module Organization](./7-backend-architecture.md#71-module-organization)
    - [7.2 Core Domain Modules](./7-backend-architecture.md#72-core-domain-modules)
      - [Multi-Signal Analysis Engine](./7-backend-architecture.md#multi-signal-analysis-engine)
      - [Reply Generator](./7-backend-architecture.md#reply-generator)
    - [7.3 Worker Process Architecture](./7-backend-architecture.md#73-worker-process-architecture)
    - [7.4 Advanced Learning System Architecture](./7-backend-architecture.md#74-advanced-learning-system-architecture)
      - [7.4.1 Architecture Overview](./7-backend-architecture.md#741-architecture-overview)
      - [7.4.2 Data Flow & Integration](./7-backend-architecture.md#742-data-flow-integration)
      - [7.4.3 Priority 1 Implementation Details](./7-backend-architecture.md#743-priority-1-implementation-details)
      - [7.4.4 Priority 2 Implementation Details](./7-backend-architecture.md#744-priority-2-implementation-details)
      - [7.4.5 Priority 3 Implementation Details](./7-backend-architecture.md#745-priority-3-implementation-details)
      - [7.4.6 Configuration & Tuning](./7-backend-architecture.md#746-configuration-tuning)
      - [7.4.7 Expected Performance Gains](./7-backend-architecture.md#747-expected-performance-gains)
      - [7.4.8 Monitoring & Health Checks](./7-backend-architecture.md#748-monitoring-health-checks)
      - [7.4.9 Proof of Continuous Improvement Loop](./7-backend-architecture.md#749-proof-of-continuous-improvement-loop)
  - [8. Frontend Architecture](./8-frontend-architecture.md)
    - [8.1 Dashboard Overview](./8-frontend-architecture.md#81-dashboard-overview)
    - [8.2 Component Architecture](./8-frontend-architecture.md#82-component-architecture)
    - [8.3 State Management](./8-frontend-architecture.md#83-state-management)
    - [8.4 User Flow Diagrams](./8-frontend-architecture.md#84-user-flow-diagrams)
      - [Flow 1: Manual Approval Flow](./8-frontend-architecture.md#flow-1-manual-approval-flow)
      - [Flow 2: KPI Investigation & Drill-Down](./8-frontend-architecture.md#flow-2-kpi-investigation-drill-down)
      - [Flow 3: Safety Escalation & Resolution](./8-frontend-architecture.md#flow-3-safety-escalation-resolution)
      - [Flow 4: Error State Handling](./8-frontend-architecture.md#flow-4-error-state-handling)
    - [8.5 Dashboard Performance Requirements](./8-frontend-architecture.md#85-dashboard-performance-requirements)
    - [8.6 Accessibility Standards](./8-frontend-architecture.md#86-accessibility-standards)
    - [8.7 Key Dashboard Views](./8-frontend-architecture.md#87-key-dashboard-views)
      - [View 1: Mission Control](./8-frontend-architecture.md#view-1-mission-control)
      - [Approval Interface](./8-frontend-architecture.md#approval-interface)
  - [9. External Integrations](./9-external-integrations.md)
    - [9.1 Platform API Clients](./9-external-integrations.md#91-platform-api-clients)
      - [Twitter/X Integration](./9-external-integrations.md#twitterx-integration)
      - [Reddit Integration](./9-external-integrations.md#reddit-integration)
    - [9.2 Integration Failure Matrix](./9-external-integrations.md#92-integration-failure-matrix)
    - [9.3 DeepSeek R1 Integration](./9-external-integrations.md#93-deepseek-r1-integration)
  - [10. Security Architecture](./10-security-architecture.md)
    - [10.1 Authentication & Authorization](./10-security-architecture.md#101-authentication-authorization)
    - [10.2 Secrets Management](./10-security-architecture.md#102-secrets-management)
    - [10.3 Data Security](./10-security-architecture.md#103-data-security)
  - [11. Infrastructure & Deployment](./11-infrastructure-deployment.md)
    - [11.1 Docker Compose Configuration](./11-infrastructure-deployment.md#111-docker-compose-configuration)
    - [11.2 Dockerfile (Backend)](./11-infrastructure-deployment.md#112-dockerfile-backend)
    - [11.3 Cloudflare Tunnel Configuration](./11-infrastructure-deployment.md#113-cloudflare-tunnel-configuration)
  - [12. Observability & Monitoring](./12-observability-monitoring.md)
    - [12.1 Structured Logging](./12-observability-monitoring.md#121-structured-logging)
    - [12.2 Metrics Collection](./12-observability-monitoring.md#122-metrics-collection)
    - [12.3 Health Checks](./12-observability-monitoring.md#123-health-checks)
    - [12.4 Alerting Configuration](./12-observability-monitoring.md#124-alerting-configuration)
  - [13. Testing Strategy](./13-testing-strategy.md)
    - [13.1 Testing Pyramid](./13-testing-strategy.md#131-testing-pyramid)
    - [13.2 Unit Testing](./13-testing-strategy.md#132-unit-testing)
    - [13.3 Integration Testing](./13-testing-strategy.md#133-integration-testing)
    - [13.4 Test Coverage Requirements](./13-testing-strategy.md#134-test-coverage-requirements)
  - [14. Error Handling & Resilience](./14-error-handling-resilience.md)
    - [14.1 Error Classification](./14-error-handling-resilience.md#141-error-classification)
    - [14.2 Circuit Breaker Pattern](./14-error-handling-resilience.md#142-circuit-breaker-pattern)
    - [14.3 Retry Strategy](./14-error-handling-resilience.md#143-retry-strategy)
    - [14.4 Graceful Degradation](./14-error-handling-resilience.md#144-graceful-degradation)
  - [15. Performance Considerations](./15-performance-considerations.md)
    - [15.1 Performance Targets](./15-performance-considerations.md#151-performance-targets)
    - [15.2 Optimization Strategies](./15-performance-considerations.md#152-optimization-strategies)
      - [Parallel Signal Processing](./15-performance-considerations.md#parallel-signal-processing)
      - [Database Query Optimization](./15-performance-considerations.md#database-query-optimization)
      - [Caching Strategy](./15-performance-considerations.md#caching-strategy)
  - [16. Migration & Scaling Strategy](./16-migration-scaling-strategy.md)
    - [16.1 Technical Risk Register](./16-migration-scaling-strategy.md#161-technical-risk-register)
    - [16.2 Technical Decision Log](./16-migration-scaling-strategy.md#162-technical-decision-log)
    - [16.3 V1 â†’ V2 Migration Path](./16-migration-scaling-strategy.md#163-v1-v2-migration-path)
    - [16.2 Scaling Considerations](./16-migration-scaling-strategy.md#162-scaling-considerations)
    - [16.3 Data Migration](./16-migration-scaling-strategy.md#163-data-migration)
  - [17. Requirements Traceability](./17-requirements-traceability.md)
    - [17.1 Functional Requirements Coverage](./17-requirements-traceability.md#171-functional-requirements-coverage)
    - [17.2 Non-Functional Requirements Coverage](./17-requirements-traceability.md#172-non-functional-requirements-coverage)
    - [17.3 Story Dependencies Matrix](./17-requirements-traceability.md#173-story-dependencies-matrix)
    - [2.1 Core Technologies](./17-requirements-traceability.md#21-core-technologies)
    - [Environment Variables](./17-requirements-traceability.md#environment-variables)
  - [Appendix B: Key File Templates](./appendix-b-key-file-templates.md)
    - [Claims Library Structure](./appendix-b-key-file-templates.md#claims-library-structure)
    - [Keyword Taxonomy Structure](./appendix-b-key-file-templates.md#keyword-taxonomy-structure)
  - [Architecture Checklist Validation Summary](./architecture-checklist-validation-summary.md)
    - [Checklist Category Assessment](./architecture-checklist-validation-summary.md#checklist-category-assessment)
    - [High Priority Recommendations - Implementation Status](./architecture-checklist-validation-summary.md#high-priority-recommendations-implementation-status)
    - [Medium Priority Recommendations - Implementation Status](./architecture-checklist-validation-summary.md#medium-priority-recommendations-implementation-status)
    - [Low Priority Recommendations - Implementation Status](./architecture-checklist-validation-summary.md#low-priority-recommendations-implementation-status)
    - [Architecture Enhancements Beyond Checklist](./architecture-checklist-validation-summary.md#architecture-enhancements-beyond-checklist)
    - [Critical Gaps Closed](./architecture-checklist-validation-summary.md#critical-gaps-closed)
  - [Document Revision History](./document-revision-history.md)
