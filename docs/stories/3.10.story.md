# Story 3.10: Platform-Specific Personality Adaptation

## Status: Draft

## Story

**As a** the system,  
**I want** to adapt Antone's personality, tone, and success metrics based on each platform's unique culture,  
**so that** engagement feels native to Twitter/X, Reddit, and Threads.

## Acceptance Criteria

1. Platform personality module created at `@backend/generation/platform-personality.ts`
2. **Twitter/X Personality**:
   - Tone: Witty, fast-paced, conversational
   - Format: ≤280 chars ideal, strategic line breaks
   - Engagement: Reply + 2-3 follow-ups, quote tweets for viral
   - Emojis: 1-2 per reply
   - Success metrics: Likes, quote tweets, follower growth
3. **Reddit Personality**:
   - Tone: Detailed, helpful, academic-casual hybrid
   - Format: 300-500 chars, bullet points, bold headers
   - Engagement: In-depth reply + follow-ups
   - Subreddit awareness: Adapt to sub rules
   - Success metrics: Upvotes, comment karma
4. **Threads Personality**:
   - Tone: Warm, casual, Instagram-adjacent
   - Format: 200-320 chars, visual appeal
   - Emojis: 2-3 per reply
   - Hashtags: 1-2 relevant (#hangoverhelp)
   - Success metrics: Hearts, shares to Stories
5. **Platform-Specific Archetype Preferences**:
   - Twitter: Humor-light, Storylet, Confident Recommender
   - Reddit: Credibility-anchor, Problem-Solution Direct, Coach
   - Threads: Storylet, Humor-light, Confident Recommender
6. Platform context passed to reply generator
7. Dashboard tracks performance by platform
8. Unit tests validate platform-specific formatting
9. Integration test: Same decision on all 3 platforms shows distinct personalities

---

## Tasks / Subtasks

- [ ] **Task 1: Create Platform Personality Module** (AC: 1)
  - [ ] Create `backend/src/generation/platform-personality.ts`
  - [ ] Define personality configs for each platform
  - [ ] Export personality object

- [ ] **Task 2: Define Twitter Personality** (AC: 2)
  - [ ] Tone: witty, fast-paced
  - [ ] Char limit: 280 ideal
  - [ ] Emoji guidelines: 1-2
  - [ ] Archetype preferences

- [ ] **Task 3: Define Reddit Personality** (AC: 3)
  - [ ] Tone: detailed, academic-casual
  - [ ] Char limit: 300-500
  - [ ] Format: bullets, bold
  - [ ] Subreddit rules map

- [ ] **Task 4: Define Threads Personality** (AC: 4)
  - [ ] Tone: warm, casual
  - [ ] Char limit: 200-320
  - [ ] Emoji guidelines: 2-3
  - [ ] Hashtag strategy

- [ ] **Task 5: Integrate with Reply Generator** (AC: 6)
  - [ ] Pass personality to prompt builder
  - [ ] Apply formatting rules
  - [ ] Enforce character limits

- [ ] **Task 6: Create Analytics API** (AC: 7)
  - [ ] Track performance by platform
  - [ ] Compare CTR across platforms
  - [ ] Compare engagement rates

- [ ] **Task 7: Write Unit Tests** (AC: 8)
  - [ ] Test platform formatting
  - [ ] Test character limits
  - [ ] Test emoji counts

- [ ] **Task 8: Write Integration Test** (AC: 9)
  - [ ] Generate same decision on all 3 platforms
  - [ ] Verify distinct personalities
  - [ ] Verify formatting differences

---

## Dev Notes

### Platform Personality Configuration
```typescript
// backend/src/generation/platform-personality.ts

export const platformPersonality = {
  TWITTER: {
    platform: 'Twitter/X',
    tone: 'witty_fast_paced',
    charLimit: 280,
    idealLength: 240,
    formatting: {
      lineBreaks: true,
      emojis: { min: 1, max: 2 },
      bullets: false,
      hashtags: 0,
    },
    preferredArchetypes: ['HUMOR_LIGHT', 'STORYLET', 'CONFIDENT_RECOMMENDER'],
    engagementStrategy: {
      followUpReplies: true,
      maxFollowUps: 3,
      quoteViralPosts: true, // EVS > 5.0
      threadParticipation: true,
    },
    successMetrics: ['likes', 'quote_tweets', 'follower_growth'],
  },
  REDDIT: {
    platform: 'Reddit',
    tone: 'detailed_helpful',
    charLimit: 500,
    idealLength: 350,
    formatting: {
      lineBreaks: true,
      emojis: { min: 0, max: 1 },
      bullets: true,
      boldHeaders: true,
      hashtags: 0,
    },
    preferredArchetypes: ['CREDIBILITY_ANCHOR', 'PROBLEM_SOLUTION_DIRECT', 'COACH'],
    subredditRules: {
      'stopdrinking': { allowLinks: false, tone: 'supportive_only' },
      'AskDocs': { tone: 'formal_educational' },
      'hangover': { tone: 'casual_helpful' },
    },
    engagementStrategy: {
      followUpReplies: true,
      commentDepth: true,
      karmaBuilding: true,
    },
    successMetrics: ['upvotes', 'comment_karma', 'helpful_count'],
  },
  THREADS: {
    platform: 'Threads',
    tone: 'warm_casual',
    charLimit: 320,
    idealLength: 250,
    formatting: {
      lineBreaks: true,
      emojis: { min: 2, max: 3 },
      bullets: false,
      hashtags: 2,
    },
    preferredArchetypes: ['STORYLET', 'HUMOR_LIGHT', 'CONFIDENT_RECOMMENDER'],
    engagementStrategy: {
      followUpReplies: false,
      likeOriginalPost: true,
      hashtagUsage: ['#hangoverhelp', '#wellnesstips'],
    },
    successMetrics: ['hearts', 'shares_to_stories', 'dm_conversations'],
  },
};

export function getPlatformPersonality(platform: string) {
  return platformPersonality[platform] || platformPersonality.TWITTER;
}
```

### File Structure
```
backend/src/
└── generation/
    ├── reply-generator.ts
    ├── archetype-selector.ts
    └── platform-personality.ts  # THIS STORY
```

---

## Testing

### Test File Location
- `backend/tests/unit/generation/platform-personality.test.ts`

### Testing Standards
- Test personality configs
- Test formatting rules
- Test character limits

### Story-Specific Testing Requirements
1. Twitter personality returns correct config
2. Reddit personality includes subreddit rules
3. Threads personality includes hashtags
4. Character limits enforced per platform
5. Emoji counts per platform correct
6. Integration test shows distinct personalities

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-01 | 1.0 | Initial story draft | Bob (SM Agent) |

---

## Dev Agent Record
*To be filled by Dev Agent*

---

## QA Results
*To be filled by QA Agent*





