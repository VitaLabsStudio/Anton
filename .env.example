# .env.example - Environment Variables Template
# 
# Copy this file to .env and fill in your values:
#   cp .env.example .env
#
# NEVER commit .env to version control!

# ═══════════════════════════════════════════════════════════════
# PostgreSQL Configuration
# ═══════════════════════════════════════════════════════════════
POSTGRES_USER=antone
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=antone
# Full database URL (auto-constructed in Docker)
DATABASE_URL=postgresql://antone:your_secure_password_here@postgres:5432/antone

# ═══════════════════════════════════════════════════════════════
# Twitter/X API Credentials
# ═══════════════════════════════════════════════════════════════
#
# HOW TO OBTAIN TWITTER API CREDENTIALS:
# --------------------------------------
# 1. Go to https://developer.twitter.com/en/portal/dashboard
# 2. Create a new Project and App (or use existing)
# 3. Navigate to your App's "Keys and tokens" section
# 4. Generate the following:
#    - API Key and Secret (Consumer Keys)
#    - Access Token and Secret (Authentication Tokens)
#    - Bearer Token (for app-only authentication)
#
# REQUIRED PERMISSIONS:
# - Read and Write access (for posting replies)
# - Ensure your app is in a Project with appropriate access level
#
# CREDENTIAL ROTATION PROCEDURE:
# -----------------------------
# 1. Generate new credentials in Twitter Developer Portal
# 2. Update this .env file with new values
# 3. Restart the application
# 4. Verify credentials via /api/twitter/verify endpoint
# 5. Revoke old credentials in Twitter Developer Portal
# 6. Monitor for any authentication errors in logs
#
# SECURITY BEST PRACTICES:
# -----------------------
# - NEVER commit actual credentials to version control
# - Use Docker secrets or a secret manager in production
# - Rotate credentials periodically (every 90 days recommended)
# - Monitor for unauthorized access via Twitter's activity dashboard
# - Keep credentials in separate env files per environment
# - Use gitleaks to scan for accidentally committed secrets
#
TWITTER_API_KEY=
TWITTER_API_SECRET=
TWITTER_ACCESS_TOKEN=
TWITTER_ACCESS_SECRET=
TWITTER_BEARER_TOKEN=

# ═══════════════════════════════════════════════════════════════
# Reddit API Credentials
# Get from: https://www.reddit.com/prefs/apps (SCRIPT app)
# ═══════════════════════════════════════════════════════════════
#
# HOW TO OBTAIN REDDIT API CREDENTIALS:
# -------------------------------------
# 1. Sign in as u/antone_vita and open https://www.reddit.com/prefs/apps
# 2. Click "create another app...", choose "script" type, and set redirect URI to http://localhost:8080
# 3. After saving, copy the Client ID (under the app name) and Client Secret (bottom of the form)
# 4. Use a one-time OAuth helper to exchange the Client ID/Secret for a refresh token:
#    - Visit https://not-an-aardvark.github.io/reddit-oauth-helper/
#    - Select permanent access, scopes: read, submit, identity
#    - Copy the generated refresh_token=... value
#
# CREDENTIAL ROTATION PROCEDURE:
# ------------------------------
# 1. Generate a new refresh token using the OAuth helper above
# 2. Update the values below (or corresponding Docker secrets)
# 3. Restart the backend service to reload credentials
# 4. Verify connectivity via GET /api/reddit/verify
# 5. Revoke the previous refresh token in Reddit's app console
#
# SECURITY:
# ---------
# - Never commit live credentials
# - Keep REDDIT_ENABLED=true in non-production so the service auto-disables on failure
# - REDDIT_ENABLED will be set to false automatically if authentication fails
#
REDDIT_CLIENT_ID=
REDDIT_CLIENT_SECRET=
REDDIT_REFRESH_TOKEN=
REDDIT_USER_AGENT=Antone/1.0.0 (by /u/antone_vita)
REDDIT_ENABLED=true

# ═══════════════════════════════════════════════════════════════
# Threads API Credentials
# Get from: https://developers.facebook.com/
# ═══════════════════════════════════════════════════════════════
# THREADS_ACCESS_TOKEN must start with "EAA..." and represents a Meta long-lived access token.
# Use the Meta Developer Console to exchange a short-lived token for a 60-day long-lived token,
# and refresh it using the App Secret as needed. Never log the full token, store it in secrets.
THREADS_ACCESS_TOKEN=

# THREADS_CLIENT_ID and THREADS_CLIENT_SECRET are required for automated refresh workflows.
# They map to your Meta App credentials and are sent to the Graph API refresh endpoint.
THREADS_CLIENT_ID=
THREADS_CLIENT_SECRET=

# THREADS_ROUTE_SECRET secures internal calls to /api/threads; set it to the same secret used by the dashboard.
# Leave blank in local development if you are not calling the route externally.
THREADS_ROUTE_SECRET=

# When Threads becomes unavailable, the backend logs a warning and continues operating through Twitter/Reddit.
# Use /api/threads/rate-limit-status and /api/threads/verify to track availability before resuming Threads replies.

# ═══════════════════════════════════════════════════════════════
# LLM Configuration (DeepSeek)
# Get from: https://platform.deepseek.com/
# ═══════════════════════════════════════════════════════════════
DEEPSEEK_API_KEY=
DEEPSEEK_MODEL=deepseek-chat

# ═══════════════════════════════════════════════════════════════
# Authentication & Security
# ═══════════════════════════════════════════════════════════════
JWT_SECRET=your_jwt_secret_here_use_openssl_rand_base64_32

# Token for protecting sensitive endpoints (e.g. internal health checks)
HEALTH_CHECK_TOKEN=your_secure_health_token

# Whitelist of IPs allowed to access protected internal endpoints
# Supports individual IPs and CIDR ranges (comma-separated)
ALLOWED_IPS=127.0.0.1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16

# ═══════════════════════════════════════════════════════════════
# Dashboard / Frontend Configuration
# ═══════════════════════════════════════════════════════════════
# The URL where the backend API is reachable from the browser/client
NEXT_PUBLIC_API_URL=http://localhost:3001

# ═══════════════════════════════════════════════════════════════
# Cloudflare Tunnel (Optional - for remote access)
# Get from: https://one.dash.cloudflare.com/
# ═══════════════════════════════════════════════════════════════
CLOUDFLARE_TUNNEL_TOKEN=

# ═══════════════════════════════════════════════════════════════
# External Monitoring (Optional)
# ═══════════════════════════════════════════════════════════════
HEALTHCHECKS_IO_UUID=

# ═══════════════════════════════════════════════════════════════
# Backup Configuration (Optional - Backblaze B2)
# Get from: https://www.backblaze.com/b2/cloud-storage.html
# ═══════════════════════════════════════════════════════════════
BACKBLAZE_KEY_ID=
BACKBLAZE_APPLICATION_KEY=
BACKBLAZE_BUCKET_NAME=antone-backups

# ═══════════════════════════════════════════════════════════════
# Application Settings
# ═══════════════════════════════════════════════════════════════
NODE_ENV=development
PORT=3001
LOG_LEVEL=info
DRY_RUN=true
REQUIRE_APPROVAL=true

# ═══════════════════════════════════════════════════════════════
# Context7 API Credentials (MCP Server)
# ═══════════════════════════════════════════════════════════════
CONTEXT7_API_KEY=
